# nodejs-labs

First lab

## Available Scripts

### `npm install`
Installs dependencies

### `npm run start`
Runs the code

### `npm run build`
Launches the build of code

## Answers on questions

1. В чому різниця між setTimeout та setInterval?
    setTimeout виконує колбек, коли пройде та кількість мілісекунд, яку було вказано другим параметром. Виконає тільки один раз. setInterval же буде виконувати колбек постійно з інтервалом в ту кількість мілісекунд, яку було вказано другим параметром.

2. Що таке блокуючий код?
    Блокуючим кодом називають такий код, що зупиняє роботу основного потоку, доки не будуть виконані певні сторонні операції (такі як отримання даних з бази даних, стороннього API тощо).

3. Які переваги асинхронного читання з диску перед синхронним?
    Використовуючи асинхронне читання з диску, є можливість реалізувати часткове считування та відображення великого обсягу даних. Коли ж дані зчитуються синхронно, то вони читаються всі і зразу, що може досить сильно вплинути на швидкість виконання коду.

4. Опишіть різницю між Callbacks API, Promise API та async / await.
    Почнемо з Callbacks API. З самого початку треба зрозуміти, що колбеки (функції оберненого виклику) не являються асинхронними (в чому і полягає їхня найголовніша відмінність від промісів та конструкції асінк / евейт). Callbacks API - це звичайні функції, які передаються як параметри в інші функції (які зачасту мають якийсь асинхронний код, наприклад, setTimeout), щоб вони були викликані не як синхронні (зразу зі стеку), а тільки після того, як виконається асинхронний код з черги.
    Приклад:
    
    ```
    const fun = (callback) => {
        setTimeout(() => {
            console.log(1);

            callback();
        }, 0);
    }

    const callbackFun = () => {
        console.log(2);
    }

    fun(callbackFun);
    ```

    Результатом виконання коду буде вивід чисел 1 та 2.

    Далі Promise API. З'явились з появою ES6. Promise - це об'єкт, який має два параметра - resolve, reject - та три стани - pending, fulfilled, rejected, де pending - вихідний стан проміса, fulfilled - успішно виконаний проміс, rejected - відхилений проміс. Коли ми ініціалізуємо проміс (new Promise), ми маємо передати resolve та reject як параметри. Всередині проміса ми можемо писати вже повноцінно асинхронний код, який буде при виконанні колбека resolve повертати успішно отримані дані, а при виконанні reject - повідомляти про помилку. Відмінність проміса в тому, що він частково блокує код. Той код, який має виконуватись після проміса, поміщається в методи then, catch або finally. then викликається, коли виконується resolve, catch - коли reject, finally - після завершення проміса.
    У промісів є метод Promise.all(), який може виконати якусь дію тільки після того, як обробляться всі проміси, що передаються параметром як масив. 

    І останнє: async / await. З'явились з появою ES7. Дана конструкція дозволяє обробляти асинхронний код так, ніби він синхронний. Під капотом використовуються вже вивчені проміси. async - об'являє асинхронну функцію, await - дозволяє працювати з даними, що повернулись після виконання асинхронщини. Помилки можна обробити за допомогою конструкції try-catch.

5. Як обробляються помилки при використанні Promise API?
    Promise - це об'єкт, який має два параметра - resolve, reject - та три стани - pending, fulfilled, rejected. Хендлити помилки можна всередині промісів за допомогою конструкції try-catch, власних перевірок, або колбеків, які будуть повертатись, якщо запит на ресурс пройшов з помилкою. Як тільки помилка всередині проміса захендлилась, треба викликати стан проміса reject і передати параметром повідомлення про помилку, об'єкт, статус код тощо. Помилки поміщаються і передаються в метод проміса catch.

6. Як створити директорію через модуль fs? За що відповідає параметр mode?
    Метод mkdir (скорочення від make directory) створює директорію в певній теці, яку ми вказуємо першим параметром. Пареметр mode вказує на те, які права буде мати користувач, коли буде звертатись до цієї папки. Дефолтне значення 0o777, що означає повний доступ (read, write, execute). Якщо ми хочемо заборонити виконувати якусь дію над директорією, треба замість 7 вказати 6.
